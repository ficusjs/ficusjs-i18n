{"version":3,"file":"with-i18n.mjs","sources":["../src/with-i18n.mjs"],"sourcesContent":["export function withI18n (i18n, options) {\n  return {\n    ...options,\n    created () {\n      this.setI18n(i18n)\n      if (options.created) options.created.call(this)\n    },\n    setI18n (i18n) {\n      const self = this\n      self._i18n = i18n\n      self.i18n = {\n        t (key, templateData, options) {\n          return self._i18n.t(key, templateData, options)\n        },\n        getLocale () {\n          return self._i18n.getLocale()\n        },\n        setLocale (locale) {\n          self._i18n.setLocale(locale)\n        }\n      }\n    }\n  }\n}\n\nexport function withI18nReactive (i18n, options) {\n  return withI18n(i18n, {\n    ...options,\n    created () {\n      if (this.eventBus) {\n        this.eventBus.subscribe('i18n:locale:changed', lng => {\n          this.key = lng\n        })\n      }\n      if (options.created) options.created.call(this)\n    }\n  })\n}\n"],"names":["withI18n","i18n","options","created","this","setI18n","call","self","_i18n","t","key","templateData","getLocale","setLocale","locale","withI18nReactive","eventBus","subscribe","lng"],"mappings":"AAAO,SAASA,SAAUC,EAAMC,GAC9B,MAAO,IACFA,EACHC,UACEC,KAAKC,QAAQJ,GACTC,EAAQC,SAASD,EAAQC,QAAQG,KAAKF,KAC3C,EACDC,QAASJ,GACP,MAAMM,EAAOH,KACbG,EAAKC,MAAQP,EACbM,EAAKN,KAAO,CACVQ,EAAE,CAACC,EAAKC,EAAcT,IACbK,EAAKC,MAAMC,EAAEC,EAAKC,EAAcT,GAEzCU,UAAU,IACDL,EAAKC,MAAMI,YAEpBC,UAAWC,GACTP,EAAKC,MAAMK,UAAUC,EACtB,EAEJ,EAEL,CAEO,SAASC,iBAAkBd,EAAMC,GACtC,OAAOF,SAASC,EAAM,IACjBC,EACHC,UACMC,KAAKY,UACPZ,KAAKY,SAASC,UAAU,uBAAuBC,IAC7Cd,KAAKM,IAAMQ,CAAG,IAGdhB,EAAQC,SAASD,EAAQC,QAAQG,KAAKF,KAC3C,GAEL"}